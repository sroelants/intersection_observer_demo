(this.webpackJsonpintersection_observer_demo=this.webpackJsonpintersection_observer_demo||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(10),n(2)),s=n(1),u=(n(11),n(12),function(e){var t=e.handleSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1];return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search__input",placeholder:"What do you want to learn about?",onChange:function(e){o(e.target.value)},value:i}),r.a.createElement("button",{className:"search__button",onClick:function(){return t(i)}},"Search"))}),l=(n(13),function(e){var t=e.pageid,n=e.title,a=e.snippet;return r.a.createElement("div",{className:"card"},r.a.createElement("a",{href:"https://en.wikipedia.org/wiki?curid="+t},r.a.createElement("div",{className:"card__title"},n),r.a.createElement("div",{className:"card__snippet",dangerouslySetInnerHTML:{__html:a}})))});var f=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),f=Object(s.a)(i,2),h=f[0],m=f[1],d=Object(a.useRef)(null),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0px",r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){var a=new IntersectionObserver((function(e){var t=Object(s.a)(e,1)[0];o(t.isIntersecting)}),{rootMargin:n,threshold:t});return e&&a.observe(e.current),function(){return a.unobserve(e.current)}}),[]),i}(d,1,"100px");return Object(a.useEffect)((function(){var e,t;p&&h&&(e=h,t=n.length,fetch("https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=".concat(e,"&sroffset=").concat(t,"&format=json&origin=*&srlimit=20")).then((function(e){return e.json()})).then((function(e){return e.query.search})).catch((function(e){return console.log(e),[]}))).then((function(e){c((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))}))}))}),[p,h]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},"Wikipedia search"),r.a.createElement(u,{handleSubmit:function(e){m(e),c([])}}),n.map((function(e){return r.a.createElement(l,Object.assign({key:e.pageid},e))})),r.a.createElement("div",{ref:d}))};i.a.render(r.a.createElement(f,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.cc5a7630.chunk.js.map